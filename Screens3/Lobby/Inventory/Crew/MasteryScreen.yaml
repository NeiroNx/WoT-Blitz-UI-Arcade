Header:
    version: 141
ImportedPackages:
- "~res:/UI/Screens3/Lobby/Inventory/Common/DynamicHorizontalPadding.yaml"
- "~res:/UI/Screens3/Lobby/Common/Resource/Price.yaml"
- "~res:/UI/Screens3/Lobby/Common/Button.yaml"
- "~res:/UI/Screens3/Common/Footer.yaml"
- "~res:/UI/Screens3/Lobby/Inventory/Common/DynamicTopSpacer.yaml"
- "~res:/UI/Screens3/Common/PopupMenu.yaml"
Prototypes:
-   class: "UIControl"
    name: "Screen"
    size: [960.000000, 600.000000]
    input: false
    components:
        UIAnimationComponent:
            animations: "_INIT,~res:/UI/Screens3/Lobby/Inventory/Crew/MasteryScreenInit.animation"
        Anchor:
            leftAnchorEnabled: true
            rightAnchorEnabled: true
            topAnchorEnabled: true
            bottomAnchorEnabled: true
        LinearLayout:
            orientation: "TopDown"
            spacing: 32.000000
        UIDataParamsComponent:
            params:
            - ["CrewMasteryViewModel", "model", "null", "{ }"]
            - ["TankParams", "tankParams", "null", "{ }"]
            - ["SessionDataModel", "session", "null", "{ }"]
            events:
            - "TRAIN_PRESSED"
        UIDataLocalVarsComponent:
            data:
            - ["int", "progressBarAnimationMastery", "session.playerTanks.currentTank.mastery"]
            - ["bool", "showCountAnimation", "true"]
        UIDataLocalBindingsComponent:
            data:
            - ["CrewTrainingInfo", "selectedTraining", "when not isNull(model) and model.trainingTypes.Contains(model.selectedTrainingType) -> model.trainingTypes[model.selectedTrainingType], null"]
            - ["bool", "freeTrainingSelected", "session.playerTanks.currentTank.mastery < 100 and not session.stats.wasMasteryUp and selectedTraining.type == eCrewTrainingType.kMedium"]
            - ["int", "tankMastery", "session.playerTanks.currentTank.mastery"]
            - ["int", "tankLevel", "session.playerTanks.currentTank.info.level"]
            - ["int", "levelMastery", "when not isNull(selectedTraining) -> selectedTraining.masteryLevel, 0"]
            - ["ArtefactProviderModel", "artefacts", "session.artefacts"]
            - ["StatsDataModel", "stats", "session.stats"]
            - ["Price", "priceInitial", "selectedTraining.priceInitial"]
            - ["map<string,bool>", "canAffordMap", "when isNull(artefacts) or isNull(stats) -> emptyMap, CanAffordResources(selectedTraining.price, stats.resources, artefacts.artefactIds)"]
            - ["bool", "isPriceInitialValid", "when not isNull(priceInitial) -> not priceInitial.resources.Empty(), false"]
        UIActionComponent:
            actionsPath: "~res:/UI/Screens3/Lobby/Inventory/Crew/MasteryScreen.actions"
    children:
    -   class: "UIControl"
        name: "Content"
        position: [9.000000, 0.000000]
        size: [32.000000, 32.000000]
        input: false
        classes: "inventory-limited-width"
        components:
            Anchor:
                hCenterAnchorEnabled: true
                vCenterAnchorEnabled: true
            LinearLayout: {}
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
            StyleSheet:
                styles: "~res:/UI/Screens3/Common/Desktop.style.yaml"
        children:
        -   prototype: "DynamicHorizontalPadding/DynamicHorizontalPadding"
            name: "DynamicHorizontalPadding"
            classes: "padding fixed-padding desktop-unvisible"
        -   class: "UIControl"
            name: "LeftPart"
            input: false
            components:
                LinearLayout:
                    orientation: "TopDown"
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "PercentOfParent"
            children:
            -   prototype: "DynamicTopSpacer/DynamicTopSpacer"
                name: "DynamicTopSpacer"
            -   class: "UIControl"
                name: "Content"
                position: [0.000000, 16.000000]
                input: false
                components:
                    Anchor:
                        hCenterAnchorEnabled: true
                        vCenterAnchorEnabled: true
                    SizePolicy:
                        horizontalPolicy: "PercentOfParent"
                        verticalPolicy: "PercentOfParent"
                children:
                -   class: "UIControl"
                    name: "ContainerInside"
                    position: [16.000000, 0.000000]
                    components:
                        Anchor:
                            hCenterAnchorEnabled: true
                            vCenterAnchorEnabled: true
                        LinearLayout:
                            orientation: "TopDown"
                            dynamicPadding: true
                            spacing: 56.000000
                            dynamicSpacing: true
                        SizePolicy:
                            horizontalPolicy: "Formula"
                            horizontalFormula: "min(parent-32, 1140)"
                            verticalPolicy: "PercentOfChildrenSum"
                    children:
                    -   class: "UIControl"
                        name: "ProgressPanel"
                        input: false
                        components:
                            Anchor:
                                leftAnchorEnabled: true
                                rightAnchorEnabled: true
                            LinearLayout:
                                orientation: "TopDown"
                            SizePolicy:
                                horizontalPolicy: "PercentOfParent"
                                verticalPolicy: "PercentOfChildrenSum"
                            UIAttachLayoutMasterComponent:
                                attachId: "PROGRESS_MASTERY"
                        children:
                        -   class: "UIStaticText"
                            name: "Label"
                            classes: "t-overline bold white-wild-sand-text"
                            components:
                                UITextComponent:
                                    text: "#crew:mastery/masteryProgress"
                                    align: ["HCENTER", "VCENTER"]
                                Anchor:
                                    hCenterAnchorEnabled: true
                                SizePolicy:
                                    horizontalPolicy: "PercentOfContent"
                                    verticalPolicy: "PercentOfContent"
                                StyleSheet:
                                    styles: "~res:/UI/Screens3/Font.style.yaml"
                        -   class: "UIControl"
                            name: "Spacer"
                            input: false
                            components:
                                SizePolicy:
                                    horizontalPolicy: "PercentOfParent"
                                    verticalPolicy: "FixedSize"
                                    verticalValue: 4.000000
                        -   class: "UIStaticText"
                            name: "Comment"
                            classes: "t-caption regular white-wild-sand-50-text"
                            components:
                                UITextComponent:
                                    text: "#crew:mastery/tip"
                                    multiline: "MULTILINE_ENABLED"
                                    align: ["HCENTER", "VCENTER"]
                                    useRtlAlign: "USE_BY_SYSTEM"
                                Anchor:
                                    hCenterAnchorEnabled: true
                                SizePolicy:
                                    horizontalPolicy: "PercentOfContent"
                                    verticalPolicy: "PercentOfContent"
                                StyleSheet:
                                    styles: "~res:/UI/Screens3/Font.style.yaml"
                        -   class: "UIControl"
                            name: "Spacer_1"
                            input: false
                            components:
                                SizePolicy:
                                    horizontalPolicy: "PercentOfParent"
                                    verticalPolicy: "FixedSize"
                                    verticalValue: 64.000000
                        -   class: "UIControl"
                            name: "Progress"
                            input: false
                            components:
                                Anchor:
                                    hCenterAnchorEnabled: true
                                SizePolicy:
                                    horizontalPolicy: "FixedSize"
                                    horizontalValue: 392.000000
                                    verticalPolicy: "PercentOfChildrenSum"
                            children:
                            -   class: "UIControl"
                                name: "ValueContainer"
                                input: false
                                components:
                                    Anchor:
                                        bottomAnchorEnabled: true
                                    SizePolicy:
                                        horizontalPolicy: "Formula"
                                        horizontalFormula: "parent / 100. * tankMastery"
                                children:
                                -   class: "UIControl"
                                    name: "EndMarker"
                                    size: [32.000000, 32.000000]
                                    input: false
                                    components:
                                        Anchor:
                                            rightAnchorEnabled: true
                                            vCenterAnchorEnabled: true
                                        SizePolicy:
                                            horizontalPolicy: "FixedSize"
                                            horizontalValue: 0.000000
                                            verticalPolicy: "FixedSize"
                                            verticalValue: 0.000000
                                        UIAttachLayoutMasterComponent:
                                            attachId: "Mastery"
                            -   class: "UIControl"
                                name: "ProgressContainer"
                                size: [32.000000, 32.000000]
                                input: false
                                components:
                                    SizePolicy:
                                        horizontalPolicy: "PercentOfParent"
                                        verticalPolicy: "FixedSize"
                                        verticalValue: 6.000000
                                children:
                                -   class: "UIControl"
                                    name: "ProgressBarBg"
                                    input: false
                                    components:
                                        SizePolicy:
                                            horizontalPolicy: "PercentOfParent"
                                            verticalPolicy: "PercentOfParent"
                                        UIChildComponent0:
                                            prototypePath: "~res:/UI/Screens3/Lobby/Common/ProgressBar.yaml"
                                            args:
                                                "progressColor": "\"yellow-chalky-bg\""
                                                "minimum": "0"
                                                "maximum": "100"
                                                "value": "levelMastery"
                                                "showGradient": "false"
                                -   class: "UIControl"
                                    name: "ProgressBarValue"
                                    input: false
                                    components:
                                        SizePolicy:
                                            horizontalPolicy: "PercentOfParent"
                                            verticalPolicy: "PercentOfParent"
                                        UIChildComponent0:
                                            prototypePath: "~res:/UI/Screens3/Lobby/Common/ProgressBar.yaml"
                                            args:
                                                "progressColor": "\"green-la-palma-bg\""
                                                "minimum": "0"
                                                "maximum": "100"
                                                "value": "tankMastery"
                                                "showGradient": "false"
                                                "bgStyle": "\"\""
                                -   class: "UIControl"
                                    name: "ProgressBarAnimation"
                                    input: false
                                    components:
                                        UIOpacityComponent: {}
                                        SizePolicy:
                                            horizontalPolicy: "PercentOfParent"
                                            verticalPolicy: "PercentOfParent"
                                        UIChildComponent0:
                                            prototypePath: "~res:/UI/Screens3/Lobby/Common/ProgressBar.yaml"
                                            args:
                                                "progressColor": "\"green-la-palma-bg\""
                                                "minimum": "0"
                                                "maximum": "100"
                                                "value": "progressBarAnimationMastery"
                                                "showGradient": "false"
                                                "bgStyle": "\"\""
                    -   class: "UIControl"
                        name: "Train"
                        position: [0.000000, 138.000000]
                        input: false
                        components:
                            Anchor: {}
                            SizePolicy:
                                horizontalPolicy: "PercentOfParent"
                                verticalPolicy: "PercentOfMaxChild"
                        children:
                        -   class: "UIControl"
                            name: "SchoolType"
                            input: false
                            components:
                                LinearLayout:
                                    dynamicPadding: true
                                    spacing: 32.000000
                                SizePolicy:
                                    horizontalPolicy: "PercentOfParent"
                                    verticalPolicy: "PercentOfMaxChild"
                                UISwitchBarComponent:
                                    onSelectElement: "MASTERY_SELECTED_INTERNAL"
                                    onSelectElementData: "_selectedElement"
                                    selectionEventType: "TOUCH_UP"
                                UIRepeatComponent:
                                    control: "~res:/UI/Screens3/Lobby/Common/TrainingType.yaml"
                                    dataContainer: "model.trainingTypes"
                                    args:
                                        "isSelected": "model.selectedTrainingType == _item.type"
                                        "attachId": "when _item.type == eCrewTrainingType.kMedium -> \"SCHOOL_MASTERY\", \"\""
                                        "trainingInfo": "_item"
                            bindings:
                            - ["UISwitchBarComponent.selectedElement", "model.selectedTrainingType"]
                    -   class: "UIControl"
                        name: "Spacer_1"
                        size: [32.000000, 32.000000]
                        input: false
                        components:
                            SizePolicy:
                                verticalPolicy: "FixedSize"
                                verticalValue: 8.000000
        -   class: "UIControl"
            name: "Spacer"
            size: [32.000000, 32.000000]
            input: false
            components:
                SizePolicy:
                    horizontalPolicy: "FixedSize"
                    horizontalValue: 16.000000
                    verticalPolicy: "PercentOfParent"
        -   class: "UIControl"
            name: "RightPart"
            size: [450.000000, 603.000000]
            input: false
            components:
                SizePolicy:
                    horizontalPolicy: "PercentOfChildrenSum"
                    verticalPolicy: "PercentOfParent"
            children:
            -   class: "UIControl"
                name: "Content"
                input: false
                components:
                    LinearLayout:
                        orientation: "TopDown"
                    SizePolicy:
                        horizontalPolicy: "PercentOfMaxChild"
                        verticalPolicy: "PercentOfParent"
                children:
                -   prototype: "DynamicTopSpacer/DynamicTopSpacer"
                    name: "DynamicTopSpacer"
                -   class: "UIControl"
                    name: "RightPanel"
                    size: [32.000000, 32.000000]
                    input: false
                    components:
                        SizePolicy:
                            horizontalPolicy: "PercentOfChildrenSum"
                            verticalPolicy: "Formula"
                            verticalFormula: "when parent == 0 -> childrenSum, min(parentRest, childrenSum)"
                        UIAttachLayoutMasterComponent:
                            attachId: "PARAMS_MASTERY"
                        UIChildComponent0:
                            prototypePath: "~res:/UI/Screens3/Lobby/Inventory/Common/RightPanel.yaml"
                            args:
                                "content": "RightPanelContent"
        -   prototype: "DynamicHorizontalPadding/DynamicHorizontalPadding"
            name: "DynamicHorizontalPadding_1"
            classes: "padding only-notch-padding desktop-unvisible"
    -   prototype: "Footer/Footer"
        name: "Footer"
        components:
            UIDataParamsComponent:
                args:
                    "content": "FooterContent"
        children:
        -   path: "ContentWrapper/Content"
            components:
                LinearLayout: {}
    -   prototype: "PopupMenu/Slave"
        name: "MasteryValue"
        components:
            IgnoreLayout: {}
            UIDataParamsComponent:
                args:
                    "contentHOffset": "12"
                    "contentVOffset": "6"
                    "masterId": "\"Mastery\""
                    "slaveAlign": "ePositionAlign.Top"
                    "text": "format(\"%(masteryLevel)%\", { \"masteryLevel\" = tankMastery; })"
                    "title": "\"\""
Slots:
-   class: "UIControl"
    name: "FooterContent"
    size: [700.000000, 48.000000]
    input: false
    components:
        LinearLayout:
            spacing: 28.000000
        SizePolicy:
            horizontalPolicy: "PercentOfParent"
            verticalPolicy: "PercentOfParent"
    children:
    -   prototype: "Button/Button"
        name: "SkillsButton"
        position: [16.000000, 16.000000]
        components:
            Anchor:
                vCenterAnchorEnabled: true
            UIDataParamsComponent:
                args:
                    "caption": "localize(\"#crew:mastery/skills\")"
                    "type": "eButtonType.OPTIONAL_LIGHT"
                    "size": "eButtonSize.NORMAL"
                    "sound": "eButtonSound.OPEN"
                    "enabled": "true"
                eventActions:
                - ["ON_CLICK_BUTTON", "SKILL_PRESSED", ""]
    -   class: "UIControl"
        name: "PricingInfo"
        position: [195.000000, 0.000000]
        input: false
        classes: ""
        components:
            UITextComponent:
                align: ["RIGHT", "VCENTER"]
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
            StyleSheet:
                styles: "~res:/UI/Screens3/Font.style.yaml"
        children:
        -   class: "UIControl"
            name: "FirstFreeTraining"
            input: false
            classes: "t-body regular white-wild-sand-50-text"
            components:
                UITextComponent:
                    text: "#crew:mastery/firstTrainFree"
                Anchor:
                    rightAnchorEnabled: true
                    vCenterAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfContent"
                    verticalPolicy: "PercentOfContent"
            bindings:
            - ["visible", "freeTrainingSelected"]
        -   class: "UIControl"
            name: "VisibilityWrapper"
            input: false
            components:
                Anchor:
                    rightAnchorEnabled: true
                    vCenterAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfFirstChild"
                    verticalPolicy: "PercentOfFirstChild"
            bindings:
            - ["visible", "not freeTrainingSelected"]
            children:
            -   class: "UIControl"
                name: "PriceFooter"
                size: [32.000000, 32.000000]
                input: false
                components:
                    SizePolicy:
                        horizontalPolicy: "PercentOfChildrenSum"
                        verticalPolicy: "PercentOfMaxChild"
                    UIRepeatComponent:
                        control: "~res:/UI/Screens3/Lobby/Common/Resource/CurrencyWithDiscountAndCounter.yaml"
                        dataContainer: "selectedTraining.price.resources"
                        args:
                            "showCountAnimation": "showCountAnimation"
                            "canAfford": "when isNull(canAffordMap) -> true, when canAffordMap.Contains(_item.name) -> canAffordMap[_item.name], true"
                            "forceFullValue": "true"
                            "resourceInitial": "when isPriceInitialValid -> selectedTraining.priceInitial.resources[0], null"
                            "resource": "_item"
    -   class: "UIControl"
        name: "TutorialButtonWrapper"
        position: [1567.000000, 16.000000]
        input: false
        components:
            Anchor:
                vCenterAnchorEnabled: true
            SizePolicy:
                horizontalPolicy: "PercentOfFirstChild"
                verticalPolicy: "PercentOfFirstChild"
            UIAttachLayoutMasterComponent:
                attachId: "TRAIN_BUTTON"
        children:
        -   prototype: "Button/Button"
            name: "TrainAvatarButton"
            components:
                UIDataParamsComponent:
                    args:
                        "caption": "localize(\"CrewPanel/Footer/IncreaseLevelButton\")"
                        "type": "eButtonType.POSITIVE"
                        "size": "eButtonSize.NORMAL"
                        "sound": "eButtonSound.UNKNOWN"
                        "enabled": "not isNull(selectedTraining)"
                    eventActions:
                    - ["ON_CLICK_BUTTON", "TRAIN_PRESSED", ""]
-   class: "UIControl"
    name: "RightPanelContent"
    size: [400.000000, 469.000000]
    input: false
    components:
        SizePolicy:
            horizontalPolicy: "PercentOfParent"
            verticalPolicy: "PercentOfChildrenSum"
        UIChildComponent0:
            prototypePath: "~res:/UI/Screens3/Lobby/Inventory/Common/VehicleParamsTable.yaml"
            args:
                "sectionName": "\"changed\""
                "tankParams": "tankParams"
                "title": "localize(session.playerTanks.currentTank.info.shortName)"
