Header:
    version: "103"
Prototypes:
-   class: "UIControl"
    name: "ModuleProgressBar"
    size: [72.000000, 4.000000]
    input: false
    components:
        UIAnimationComponent:
            animations: "_INIT,~res:/UI/Screens3/Lobby/ModulesTree/ModuleProgress.animation;ANIMATE_PROGRESS,~res:/UI/Screens3/Lobby/ModulesTree/ModuleProgress.animation"
        LinearLayout: {}
        SizePolicy:
            horizontalPolicy: "PercentOfParent"
            verticalPolicy: "PercentOfParent"
        UIDataParamsComponent:
            params:
            - ["int", "tankDescr", "0", "0"]
            - ["int", "moduleCost", "0", "45"]
            - ["int", "lastDisplayedTankXp", "0", "5"]
            - ["int", "tankXp", "0", "8"]
            - ["int", "freeXp", "0", "30"]
            events:
            - "ON_ANIMATION_ENDED"
        UIDataLocalsComponent:
            locals:
            - ["int", "cost", "when moduleCost == 0 -> 1, moduleCost"]
            - ["float", "tankXpProgress", "float(min(tankXp, cost)) / cost"]
            - ["float", "freeXpProgress", "min(1.000000 - tankXpProgress, float(min(freeXp, cost)) / cost)"]
            - ["int", "animationTrigger", "tankXp * 10000 + tankDescr"]
            - ["bool", "isAnimationInProgress", "false"]
        UIEventOnDataComponent0:
            watchedDataExpression: "animationTrigger"
            eventName: "ANIMATE_PROGRESS"
        StyleSheet:
            styles: "~res:/UI/Screens3/Color.style.yaml"
    children:
    -   class: "UIControl"
        name: "Bg"
        input: false
        classes: "white-wild-sand-15-bg"
        components:
            Background: {}
            IgnoreLayout: {}
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
    -   class: "UIControl"
        name: "TankXpProgress"
        input: false
        classes: "blue-moon-bg"
        components:
            Background: {}
            ClipContent: {}
            LinearLayout: {}
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
        bindings:
        - ["SizePolicy.horizontalValue", "100.000000 * tankXpProgress"]
        children:
        -   class: "UIControl"
            name: "ParticleAnchor"
            size: [32.000000, 32.000000]
            input: false
            components:
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    horizontalValue: 100.000000
                    verticalPolicy: "PercentOfParent"
            children:
            -   class: "UIParticles"
                name: "Particle"
                scale: [2.000000, 1.000000]
                pivot: [1.000000, 0.500000]
                input: false
                effectPath: "~res:/3d/FX/UI/ModuleFx/ProgressBar_light.sc2"
                components:
                    Anchor:
                        rightAnchorEnabled: true
                        rightAnchor: 0.000000
                        topAnchorEnabled: true
                    SizePolicy:
                        horizontalPolicy: "FixedSize"
                        horizontalValue: 20.000000
                        verticalPolicy: "FixedSize"
                        verticalValue: 4.000000
    -   class: "UIControl"
        name: "FreeXpProgress"
        input: false
        classes: "orange-orange-peel-bg"
        components:
            Background: {}
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
        bindings:
        - ["SizePolicy.horizontalValue", "100.000000 * freeXpProgress"]
