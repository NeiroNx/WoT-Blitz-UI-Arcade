Header:
    version: 135
Prototypes:
-   class: "UIControl"
    name: "ClanEvent2021Tree"
    size: [1200.000000, 800.000000]
    input: false
    components:
        Anchor:
            hCenterAnchorEnabled: true
            vCenterAnchorEnabled: true
        SizePolicy:
            horizontalPolicy: "PercentOfParent"
            verticalPolicy: "PercentOfParent"
        UIDataParamsComponent:
            params:
            - ["vector2", "screenSize", "vec2(0.000000, 0.000000)", "vec2(1200.000000, 800.000000)"]
            - ["StoryView", "storyView", "null", "{ }"]
            - ["ResourceModel", "statsGold", "null", "{ }"]
            events:
            - "DESELECT"
            - "SHOW_STEP_INFO(int id)"
            - "SELECT_STEP(int id)"
        UIDataLocalBindingsComponent:
            data:
            - ["StoryStepModel", "step", "when not isNull(storyView.selectedStep) -> storyView.selectedStep, storyView.tree.groups[\"common\"].steps[1].step"]
            - ["string", "proxyName", "step.price[0].stuff.name"]
            - ["ResourceDetailed", "proxy", "storyView.story.stage.proxies[proxyName]"]
            - ["int", "currentProgress", "proxy.stuff.quantity"]
            - ["int", "totalProgress", "step.price[0].stuff.quantity"]
            - ["float", "progressRatio", "when totalProgress != 0 -> currentProgress * 1.000000 / totalProgress, 0.000000"]
            - ["float", "offset", "when progressRatio < 0.050000 -> (0.050000 - progressRatio) * 100, progressRatio > 0.950000 -> (progressRatio - 0.950000) * -100, 0.000000"]
    children:
    -   class: "UIControl"
        name: "Content"
        size: [32.000000, 32.000000]
        input: false
        components:
            Anchor:
                hCenterAnchorEnabled: true
                bottomAnchor: -80.000000
            SizePolicy:
                horizontalPolicy: "FixedSize"
                horizontalValue: 960.000000
                verticalPolicy: "FixedSize"
                verticalValue: 640.000000
        bindings:
        - ["Anchor.vCenterAnchorEnabled", "screenSize.Y > 768"]
        - ["Anchor.bottomAnchorEnabled", "screenSize.Y <= 768"]
        children:
        -   class: "UIControl"
            name: "Bg"
            input: false
            components:
                UITextureComponent:
                    spritePath: "~res:/Gfx/Lobby/events/2021-clan-event/tank-image"
                    materialPath: "~res:/Materials.custom/2d.Textured.HSV.material"
                    drawType: "DRAW_SCALE_TO_RECT"
                    perPixelAccuracy: "PER_PIXEL_ACCURACY_FORCED"
                Anchor:
                    hCenterAnchorEnabled: true
                    vCenterAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "PercentOfParent"
            bindings:
            - ["UITextureComponent.materialParams", "\"progress,\" + str(progressRatio * 960 / 1024) + \"; hue,0; saturation,-100; value,-70\""]
        -   class: "UIControl"
            name: "Info"
            input: false
            components:
                Anchor:
                    hCenterAnchorEnabled: true
                    vCenterAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "PercentOfParent"
            children:
            -   class: "UIControl"
                name: "ProgressBar"
                size: [32.000000, 32.000000]
                input: false
                components:
                    Anchor:
                        bottomAnchorEnabled: true
                    SizePolicy:
                        horizontalPolicy: "PercentOfParent"
                        verticalPolicy: "FixedSize"
                        verticalValue: 4.000000
                bindings:
                - ["visible", "currentProgress < totalProgress"]
                - ["Anchor.bottomAnchor", "when screenSize.Y <= 768 -> 124, 72"]
                children:
                -   class: "UIControl"
                    name: "ProgressBar"
                    input: false
                    components:
                        SizePolicy:
                            horizontalPolicy: "PercentOfParent"
                            verticalPolicy: "FixedSize"
                            verticalValue: 4.000000
                        UIChildComponent0:
                            prototypePath: "~res:/UI/Screens3/Lobby/Common/ProgressBar.yaml"
                            args:
                                "maximum": "totalProgress"
                                "value": "min(currentProgress, totalProgress)"
                -   class: "UIControl"
                    name: "CurrentProgressIndicator"
                    size: [32.000000, 32.000000]
                    input: false
                    components:
                        SizePolicy:
                            horizontalPolicy: "PercentOfParent"
                            verticalPolicy: "PercentOfParent"
                            verticalValue: 80.000000
                    bindings:
                    - ["SizePolicy.horizontalValue", "progressRatio * 100.000000"]
                    children:
                    -   class: "UIControl"
                        name: "ProgressWrapper"
                        input: false
                        components:
                            Anchor:
                                rightAnchorEnabled: true
                                bottomAnchorEnabled: true
                                bottomAnchor: -40.000000
                            LinearLayout:
                                orientation: "TopDown"
                            SizePolicy:
                                horizontalPolicy: "Ignore"
                                verticalPolicy: "PercentOfChildrenSum"
                        children:
                        -   class: "UIControl"
                            name: "ArrowWrapper"
                            size: [32.000000, 32.000000]
                            input: false
                            components:
                                Anchor:
                                    hCenterAnchorEnabled: true
                                SizePolicy:
                                    horizontalPolicy: "FixedSize"
                                    horizontalValue: 12.000000
                                    verticalPolicy: "FixedSize"
                                    verticalValue: 12.000000
                            bindings:
                            - ["Anchor.hCenterAnchor", "offset"]
                            children:
                            -   class: "UIControl"
                                name: "Arrow"
                                input: false
                                classes: "white-wild-sand-15-bg"
                                components:
                                    Background:
                                        drawType: "DRAW_SCALE_PROPORTIONAL"
                                        sprite: "~res:/Gfx/UI/TaskJournal/Basic/ArrowControl.psd"
                                    Anchor:
                                        hCenterAnchorEnabled: true
                                        vCenterAnchorEnabled: true
                                    SizePolicy:
                                        horizontalPolicy: "FixedSize"
                                        horizontalValue: 16.000000
                                        verticalPolicy: "FixedSize"
                                        verticalValue: 16.000000
                                    StyleSheet:
                                        styles: "~res:/UI/Screens3/Color.style.yaml"
                        -   class: "UIControl"
                            name: "CurrencyAdapter"
                            pivot: [0.500000, 0.500000]
                            input: false
                            components:
                                UIOpacityComponent: {}
                                Anchor:
                                    hCenterAnchorEnabled: true
                                    vCenterAnchorEnabled: true
                                SizePolicy:
                                    horizontalPolicy: "Formula"
                                    horizontalFormula: "maxChild + 8"
                                    verticalPolicy: "Formula"
                                    verticalFormula: "maxChild + 4"
                                UIChildComponent0:
                                    prototypePath: "~res:/UI/Screens3/Lobby/Common/Resource/CurrencyAdapter.yaml"
                                    args:
                                        "forceFullValue": "true"
                                        "resource": "proxy"
                            bindings:
                            - ["Anchor.hCenterAnchor", "offset * 4"]
                            children:
                            -   class: "UIControl"
                                name: "Bg"
                                input: false
                                classes: "white-wild-sand-15-bg"
                                components:
                                    Background:
                                        drawType: "DRAW_STRETCH_BOTH"
                                        sprite: "~res:/Gfx/UI/ProfileScreen/StatsBack"
                                        perPixelAccuracy: "PER_PIXEL_ACCURACY_ENABLED"
                                        leftRightStretchCap: 5.000000
                                        topBottomStretchCap: 5.000000
                                    Anchor:
                                        enabled: true
                                        hCenterAnchorEnabled: true
                                        vCenterAnchorEnabled: true
                                    SizePolicy:
                                        horizontalPolicy: "PercentOfParent"
                                        verticalPolicy: "PercentOfParent"
                                    StyleSheet:
                                        styles: "~res:/UI/Screens3/Color.style.yaml"
                -   class: "UIControl"
                    name: "Marks"
                    size: [32.000000, 32.000000]
                    input: false
                    components:
                        Anchor:
                            rightAnchorEnabled: true
                        SizePolicy:
                            horizontalPolicy: "Formula"
                            horizontalFormula: "parent - 2"
                            verticalPolicy: "FixedSize"
                            verticalValue: 4.000000
                        UIRepeatComponent:
                            control: "~res:/UI/Screens3/Lobby/Common/ProgressCheckmarkWithValue.yaml"
                            dataContainer: "[ totalProgress * 0; totalProgress * 0.250000; totalProgress * 0.500000; totalProgress * 0.750000; totalProgress * 1; ]"
                            args:
                                "xOffset": "when _index == 0 -> 14, _index == 4 -> -14, 0"
                                "maxValue": "totalProgress"
                                "value": "int(_item)"
