Header:
    version: 140
Prototypes:
-   class: "UIControl"
    name: "LinearShort"
    input: false
    components:
        SizePolicy:
            horizontalPolicy: "PercentOfFirstChild"
            verticalPolicy: "PercentOfFirstChild"
        UIDataParamsComponent:
            params:
            - ["StoryStepView", "model", "null", "{ \"step\" = { \"rewards\" = [ { \"type\" = ResourceType.vehicle; \"stuff\" = { \"quantity\" = 100500; }; }; { \"type\" = ResourceType.gold; \"basic\" = { \"quantity\" = 1000; }; }; { \"type\" = ResourceType.premium; \"basic\" = { \"quantity\" = 86400; }; }; ]; \"repeats\" = { \"quantity\" = 10; }; \"isFinished\" = false; \"isMain\" = true; }; \"isSelected\" = true; }"]
            - ["StoryStepModel", "inProgressStep", "null", "null"]
            events:
            - "SHOW_STEP_INFO(int id)"
            - "SELECT_STEP(int id)"
        UIDataLocalVarsComponent:
            data:
            - ["float", "selectedOpacity", "when model.isSelected and not model.step.isFinished -> 1.000000, 0.000000"]
        UIDataLocalBindingsComponent:
            data:
            - ["float", "levelOpacity", "when model.step.isFinished -> 0.500000, 1.000000"]
            - ["float", "rewardOpacity", "when model.step.isFinished or (not isNull(inProgressStep) and model.step.id == inProgressStep.id) or model.step.net.price.Empty() -> 1.000000, 0.700000"]
            - ["int", "inProgressStepNetPrice", "when not isNull(inProgressStep) and inProgressStep.net.price.Contains(inProgressStep.price[0].stuff.name) -> inProgressStep.net.price[inProgressStep.price[0].stuff.name].stuff.quantity, 0"]
            - ["int", "inProgressStepPrice", "when not isNull(inProgressStep) and not inProgressStep.price.Empty() -> inProgressStep.price[0].stuff.quantity, 0"]
            - ["float", "inProgressStepProgress", "when (inProgressStepPrice - inProgressStepNetPrice) > 0 -> (float(inProgressStepPrice - inProgressStepNetPrice) / float(inProgressStepPrice)), 0.000000"]
            - ["float", "progressValue", "when isNull(inProgressStep) or inProgressStep.id > model.step.id -> 1.000000, inProgressStep.id == model.step.id -> inProgressStepProgress, 0.000000"]
        UIActionComponent:
            actionsPath: "~res:/UI/Screens3/Lobby/Story/Components/LinearShort.actions"
    children:
    -   class: "UIControl"
        name: "ContentHolder"
        input: false
        components:
            SizePolicy:
                horizontalPolicy: "PercentOfFirstChild"
                verticalPolicy: "PercentOfFirstChild"
            UIChildComponent0:
                prototypePath: "~res:/UI/Screens3/Lobby/Common/ButtonDecorator.yaml"
                args:
                    "content": "Content"
                    "sound": "when model.isSelected -> eButtonSound.OPEN, eButtonSound.CHOOSE"
                    "isSelected": "when not model.step.isFinished -> model.isSelected, false"
                    "hasInput": "not model.step.isFinished"
                    "ltrbSafeZone": "vec4(1.000000, (when model.step.isMain -> 1.000000, 31.000000), 1.000000, 1.000000)"
                eventActions:
                - ["PUSH", "PUSH", "_event.scale, _event.opacity, _event.time"]
                - ["PULL", "PULL", "_event.time"]
                - ["HOVER", "HOVER", "_event.brightness, _event.time"]
                - ["CANCEL_HOVER", "CANCEL_HOVER", "_event.time"]
                - ["SELECT", "SELECT", "_event.time"]
                - ["CANCEL_SELECT", "CANCEL_SELECT", "_event.time"]
                - ["ON_TOUCH", "ON_TOUCH", "model.step.id"]
Slots:
-   class: "UIControl"
    name: "FxWrapper"
    input: false
    components:
        SizePolicy:
            horizontalPolicy: "PercentOfParent"
            verticalPolicy: "PercentOfParent"
    bindings:
    - ["visible", "model.step.net.price.Empty() and not model.step.isFinished"]
    children:
    -   class: "UIParticles"
        name: "Fx"
        scale: [1.200000, 1.200000]
        pivot: [0.500000, 0.500000]
        input: false
        effectPath: "~res:/3d/FX/UI/BattlePass/GlowReward.sc2"
        autoStart: true
        components:
            Anchor:
                hCenterAnchorEnabled: true
                vCenterAnchorEnabled: true
-   class: "UIControl"
    name: "Content"
    input: false
    components:
        SizePolicy:
            horizontalPolicy: "PercentOfFirstChild"
            verticalPolicy: "PercentOfFirstChild"
    children:
    -   class: "UIControl"
        name: "Body"
        pivot: [0.500000, 0.500000]
        input: false
        components:
            UIOpacityComponent: {}
            ClipContent:
                left: false
                right: false
            Anchor:
                hCenterAnchorEnabled: true
                vCenterAnchorEnabled: true
            SizePolicy:
                horizontalPolicy: "FixedSize"
                horizontalValue: 118.000000
                verticalPolicy: "FixedSize"
        bindings:
        - ["SizePolicy.verticalValue", "when not model.step.isFinished and model.step.isMain -> 174, 144"]
        children:
        -   class: "UIControl"
            name: "BgWrapper"
            input: false
            components:
                UIOpacityComponent: {}
                Anchor:
                    vCenterAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "FixedSize"
                    verticalValue: 333.000000
            bindings:
            - ["UIOpacityComponent.opacity", "when model.step.isMain -> 0.700000, 0.400000"]
            children:
            -   class: "UIControl"
                name: "Colored"
                input: false
                components:
                    Background:
                        drawType: "DRAW_STRETCH_BOTH"
                        sprite: "~res:/Gfx/Lobby/backgrounds/bg_gradient_vertical_0-100"
                        color: [0.611765, 0.211765, 0.788235, 1.000000]
                        perPixelAccuracy: "PER_PIXEL_ACCURACY_ENABLED"
                    Anchor:
                        leftAnchorEnabled: true
                    SizePolicy:
                        horizontalPolicy: "PercentOfParent"
                        verticalPolicy: "PercentOfParent"
                bindings:
                - ["SizePolicy.horizontalValue", "progressValue * 100.000000"]
            -   class: "UIControl"
                name: "Default"
                input: false
                components:
                    Background:
                        drawType: "DRAW_STRETCH_BOTH"
                        sprite: "~res:/Gfx/Lobby/backgrounds/bg_gradient_vertical_0-100"
                        color: [0.223529, 0.243137, 0.250980, 1.000000]
                    Anchor:
                        rightAnchorEnabled: true
                    SizePolicy:
                        horizontalPolicy: "PercentOfParent"
                        verticalPolicy: "PercentOfParent"
                bindings:
                - ["SizePolicy.horizontalValue", "(1.000000 - progressValue) * 100"]
        -   class: "UIControl"
            name: "ShadowsWrapper"
            input: false
            components:
                UIOpacityComponent: {}
                Anchor:
                    vCenterAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "FixedSize"
                    verticalValue: 333.000000
            bindings:
            - ["visible", "model.step.isMain"]
            - ["UIOpacityComponent.opacity", "when model.step.isMain -> 0.700000, 0.400000"]
            children:
            -   class: "UIControl"
                name: "Left"
                input: false
                classes: "black-35-bg"
                components:
                    Background:
                        drawType: "DRAW_STRETCH_BOTH"
                        sprite: "~res:/Gfx/Lobby/backgrounds/bg_gradient_horizontal_0-100"
                        perPixelAccuracy: "PER_PIXEL_ACCURACY_ENABLED"
                    Anchor:
                        leftAnchorEnabled: true
                        leftAnchor: -16.000000
                    SizePolicy:
                        horizontalPolicy: "FixedSize"
                        horizontalValue: 16.000000
                        verticalPolicy: "PercentOfParent"
                    StyleSheet:
                        styles: "~res:/UI/Screens3/Color.style.yaml"
            -   class: "UIControl"
                name: "Right"
                input: false
                classes: "black-35-bg"
                components:
                    Background:
                        drawType: "DRAW_STRETCH_BOTH"
                        sprite: "~res:/Gfx/Lobby/backgrounds/bg_gradient_horizontal_0-100"
                        spriteModification: ["FLIP_HORIZONTAL"]
                    Anchor:
                        rightAnchorEnabled: true
                        rightAnchor: -16.000000
                    SizePolicy:
                        horizontalPolicy: "FixedSize"
                        horizontalValue: 16.000000
                        verticalPolicy: "PercentOfParent"
                    StyleSheet:
                        styles: "~res:/UI/Screens3/Color.style.yaml"
        -   class: "UIControl"
            name: "Brightness"
            pivot: [0.500000, 0.500000]
            input: false
            classes: "white-wild-sand-10-bg"
            components:
                Background:
                    drawType: "DRAW_STRETCH_BOTH"
                    sprite: "~res:/Gfx/Lobby/backgrounds/bg_r1"
                    leftRightStretchCap: 1.000000
                    topBottomStretchCap: 1.000000
                UIOpacityComponent:
                    opacity: 0.000000
                Anchor:
                    hCenterAnchorEnabled: true
                    vCenterAnchorEnabled: true
                IgnoreLayout: {}
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "PercentOfParent"
                StyleSheet:
                    styles: "~res:/UI/Screens3/Color.style.yaml"
        -   class: "UIControl"
            name: "RewardWrapper"
            input: false
            components:
                Anchor:
                    hCenterAnchorEnabled: true
                    bottomAnchorEnabled: true
                    bottomAnchor: 16.000000
                SizePolicy:
                    horizontalPolicy: "FixedSize"
                    horizontalValue: 86.000000
                    verticalPolicy: "FixedSize"
                    verticalValue: 104.000000
            children:
            -   class: "UIControl"
                name: "RewardHolder"
                input: false
                components:
                    UIOpacityComponent: {}
                    SizePolicy:
                        horizontalPolicy: "PercentOfParent"
                        verticalPolicy: "PercentOfParent"
                    UIChildComponent0:
                        childType: "kPrototype"
                        condition: "not model.step.rewards.Empty()"
                        prototypePath: "~res:/UI/Screens3/Lobby/Common/Resource/Detailed/Medium.yaml"
                        args:
                            "fx": "FxWrapper"
                            "resource": "model.step.rewards[0]"
                bindings:
                - ["UIOpacityComponent.opacity", "rewardOpacity"]
        -   class: "UIControl"
            name: "CornerIcon"
            input: false
            components:
                Anchor:
                    rightAnchorEnabled: true
                    rightAnchor: 8.000000
                    topAnchorEnabled: true
                    topAnchor: 8.000000
                SizePolicy:
                    horizontalPolicy: "PercentOfMaxChild"
                    verticalPolicy: "PercentOfMaxChild"
            children:
            -   class: "UIControl"
                name: "Info"
                input: false
                classes: "white-wild-sand-50-bg"
                components:
                    Background:
                        drawType: "DRAW_ALIGNED"
                        sprite: "~res:/Gfx/Lobby/icons/icon_info_xs"
                        perPixelAccuracy: "PER_PIXEL_ACCURACY_ENABLED"
                    UIOpacityComponent: {}
                    SizePolicy:
                        horizontalPolicy: "FixedSize"
                        horizontalValue: 16.000000
                        verticalPolicy: "FixedSize"
                        verticalValue: 16.000000
                    StyleSheet:
                        styles: "~res:/UI/Screens3/Color.style.yaml"
                bindings:
                - ["visible", "not model.step.isFinished"]
                - ["UIOpacityComponent.opacity", "selectedOpacity"]
            -   class: "UIControl"
                name: "CheckMark"
                input: false
                components:
                    SizePolicy:
                        horizontalPolicy: "PercentOfFirstChild"
                        verticalPolicy: "PercentOfFirstChild"
                    UIChildComponent0:
                        condition: "model.step.isFinished"
                        prototypePath: "~res:/UI/Screens3/Lobby/Common/CheckMark.yaml"
                        args:
                            "bgOpacity": "0.500000"
                            "type": "eCheckMarkType.kMicro"
                            "isVisible": "true"
                bindings:
                - ["visible", "model.step.isFinished"]
        -   class: "UIControl"
            name: "Selected"
            input: false
            classes: "orange-orange-peel-bg"
            components:
                Background: {}
                UIOpacityComponent: {}
                Anchor:
                    bottomAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "FixedSize"
                    verticalValue: 4.000000
                StyleSheet:
                    styles: "~res:/UI/Screens3/Color.style.yaml"
            bindings:
            - ["UIOpacityComponent.opacity", "selectedOpacity"]
    -   class: "UIControl"
        name: "IdWrapper"
        input: false
        components:
            Anchor:
                bottomAnchorEnabled: true
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "FixedSize"
                verticalValue: 176.000000
        children:
        -   class: "UIControl"
            name: "Id"
            input: false
            classes: "t-body bold white-wild-sand-text not-localize"
            components:
                UIOpacityComponent: {}
                UITextComponent: {}
                Anchor:
                    hCenterAnchorEnabled: true
                    topAnchorEnabled: true
                    topAnchor: 3.000000
                SizePolicy:
                    horizontalPolicy: "PercentOfContent"
                    verticalPolicy: "PercentOfContent"
                StyleSheet:
                    styles: "~res:/UI/Screens3/Font.style.yaml"
            bindings:
            - ["UIOpacityComponent.opacity", "levelOpacity"]
            - ["UITextComponent.text", "model.step.id"]
