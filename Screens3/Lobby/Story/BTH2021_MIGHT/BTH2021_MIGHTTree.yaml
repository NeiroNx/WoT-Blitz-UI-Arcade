Header:
    version: 128
ImportedPackages:
- "~res:/UI/Screens3/Common/HorizontalScrollBar.yaml"
Prototypes:
-   class: "UIControl"
    name: "BTH2021_MIGHTTree"
    size: [960.000000, 512.000000]
    input: false
    components:
        SizePolicy:
            horizontalPolicy: "PercentOfParent"
            verticalPolicy: "PercentOfParent"
        UIDataParamsComponent:
            params:
            - ["eBlitzDevice", "deviceType", "eBlitzDevice.DEVICE_PHONE", "eBlitzDevice.DEVICE_PHONE"]
            - ["StoryView", "storyView", "null", "{ }"]
            - ["int64", "serverTime", "0L", "1556668800L"]
            - ["bool", "isGfx2", "false", "false"]
            - ["vector2", "screenSize", "vec2(0.000000, 0.000000)", "vec2(960.000000, 640.000000)"]
            - ["color", "bgColor", "rgb(791306)", "rgb(791306)"]
            events:
            - "DESELECT"
            - "SHOW_STEP_INFO(int id)"
            - "SELECT_STEP(int id)"
        UIDataLocalVarsComponent:
            data:
            - ["int", "gfx", "when isGfx2 -> 2, 1"]
            - ["vector2", "contentArea", "vec2(0.000000, 0.000000)"]
            - ["vector2", "stepsArea", "vec2(0.000000, 0.000000)"]
            - ["float", "stepsOpacity", "0.000000"]
            - ["float", "cornersOpacity", "0.500000"]
        UIDataLocalBindingsComponent: {}
        UIActionComponent:
            actionsPath: "~res:/UI/Screens3/Lobby/Story/BTH2021_MIGHT/BTH2021_MIGHTTree.actions"
        UIEventOnDataComponent0:
            watchedDataExpression: "contentArea"
            ifExpression: "not floatEqual(stepsArea.X, 0.000000)"
            eventName: "ON_OPEN"
        UIEventOnDataComponent1:
            watchedDataExpression: "stepsArea"
            ifExpression: "not floatEqual(contentArea.X, 0.000000)"
            eventName: "ON_OPEN"
    children:
    -   class: "UIControl"
        name: "TapArea"
        exclusiveInput: true
        components:
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
            UIInputEventComponent:
                onTouchUpInside: "DESELECT"
    -   class: "UIControl"
        name: "Content"
        input: false
        components:
            LinearLayout:
                orientation: "TopDown"
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
            UILayoutEventComponent:
                sizeChangedEvent: "CONTENT_AREA_CHANGED"
                sizeChangedEventData: "_size"
        children:
        -   class: "UIControl"
            name: "Spacer"
            input: false
            components:
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "FixedSize"
            bindings:
            - ["SizePolicy.verticalValue", "max(176, contentArea.Y * 0.250000)"]
        -   class: "UIControl"
            name: "StepArea"
            input: false
            components:
                LinearLayout:
                    orientation: "TopDown"
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "PercentOfParent"
            children:
            -   class: "UIControl"
                name: "MainArea"
                input: false
                components:
                    LinearLayout:
                        orientation: "TopDown"
                    SizePolicy:
                        horizontalPolicy: "PercentOfParent"
                        verticalPolicy: "PercentOfParent"
                children:
                -   class: "UIControl"
                    name: "StepsArea"
                    input: false
                    components:
                        SizePolicy:
                            horizontalPolicy: "PercentOfParent"
                            verticalPolicy: "PercentOfParent"
                    children:
                    -   class: "UIControl"
                        name: "StepsHolder"
                        input: false
                        components:
                            Anchor:
                                hCenterAnchorEnabled: true
                                bottomAnchorEnabled: true
                            SizePolicy:
                                horizontalPolicy: "PercentOfFirstChild"
                                verticalPolicy: "PercentOfFirstChild"
                            UIChildComponent0:
                                childType: "kControl"
                                control: "MainRewards"
                -   class: "UIControl"
                    name: "Spacer"
                    input: false
                    components:
                        SizePolicy:
                            horizontalPolicy: "PercentOfParent"
                            verticalPolicy: "PercentOfParent"
                            verticalValue: 8.000000
            -   class: "UIControl"
                name: "CommonArea"
                input: false
                components:
                    LinearLayout:
                        orientation: "TopDown"
                    SizePolicy:
                        horizontalPolicy: "PercentOfParent"
                        verticalPolicy: "PercentOfParent"
                children:
                -   class: "UIControl"
                    name: "Spacer"
                    input: false
                    components:
                        SizePolicy:
                            horizontalPolicy: "PercentOfParent"
                            verticalPolicy: "PercentOfParent"
                            verticalValue: 8.000000
                -   class: "UIControl"
                    name: "ScrollArea"
                    input: false
                    components:
                        SizePolicy:
                            horizontalPolicy: "PercentOfParent"
                            verticalPolicy: "PercentOfParent"
                    children:
                    -   class: "UIScrollView"
                        name: "ScrollView"
                        autoUpdate: true
                        centerContent: true
                        components:
                            Anchor:
                                topAnchorEnabled: true
                            SizePolicy:
                                horizontalPolicy: "PercentOfParent"
                                verticalPolicy: "Formula"
                                verticalFormula: "firstChild - 16"
                        children:
                        -   class: "UIScrollViewContainer"
                            name: "scrollContainerControl"
                            refreshStylesOnInteract: false
                            scrollDirection: "kHorizontal"
                            components:
                                SizePolicy:
                                    horizontalPolicy: "PercentOfFirstChild"
                                    verticalPolicy: "PercentOfFirstChild"
                                UILayoutEventComponent:
                                    sizeChangedEvent: "STEPS_AREA_CHANGED"
                                    sizeChangedEventData: "_size"
                                UIInputEventComponent:
                                    onTouchUpInside: "DESELECT"
                                UIChildComponent0:
                                    childType: "kControl"
                                    control: "CommonSteps"
    -   prototype: "HorizontalScrollBar/HorizontalScrollBar"
        name: "HorizontalScrollBar"
        components:
            Anchor:
                bottomAnchor: 4.000000
            ScrollBarDelegate:
                delegate: "../Content/CommonArea/ScrollArea/ScrollView"
Slots:
-   class: "UIControl"
    name: "Content"
    size: [960.000000, 640.000000]
    input: false
    components:
        SizePolicy:
            horizontalPolicy: "PercentOfParent"
            verticalPolicy: "PercentOfParent"
    children:
    -   class: "UIControl"
        name: "InteractiveArea"
        input: false
        components:
            LinearLayout:
                orientation: "TopDown"
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
        children:
        -   class: "UIControl"
            name: "StepsArea"
            input: false
            components:
                Anchor:
                    topAnchorEnabled: true
                LinearLayout:
                    orientation: "TopDown"
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "PercentOfParent"
            children:
            -   class: "UIControl"
                name: "Spacer"
                input: false
                components:
                    SizePolicy:
                        horizontalPolicy: "PercentOfParent"
                        verticalPolicy: "FixedSize"
                    UILayoutEventComponent:
                        sizeChangedEvent: "ON_SCALE_FACTOR_CHANGED"
                bindings:
                - ["SizePolicy.verticalValue", "42 * scaleFactor"]
        -   class: "UIControl"
            name: "BoxesArea"
            input: false
            components:
                Anchor:
                    bottomAnchorEnabled: true
                    bottomAnchor: -4.000000
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "PercentOfParent"
            children:
            -   class: "UIControl"
                name: "BoxesHolder"
                input: false
                components:
                    Anchor:
                        vCenterAnchorEnabled: true
                    SizePolicy:
                        horizontalPolicy: "PercentOfParent"
                        verticalPolicy: "PercentOfFirstChild"
                    UIChildComponent0:
                        childType: "kControl"
                        control: "BoxesWrapper"
-   class: "UIControl"
    name: "CommonSteps"
    input: false
    components:
        UIOpacityComponent: {}
        Anchor:
            vCenterAnchorEnabled: true
        SizePolicy:
            horizontalPolicy: "PercentOfFirstChild"
            verticalPolicy: "PercentOfFirstChild"
        UILayoutEventComponent:
            sizeChangedEvent: "SCROLL_SIZE_CHANGED"
            sizeChangedEventData: "_size"
    children:
    -   class: "UIControl"
        name: "SafeArea"
        input: false
        components:
            SizePolicy:
                horizontalPolicy: "Formula"
                horizontalFormula: "firstChild + safeAreaInsets.left + safeAreaInsets.right + 48"
                verticalPolicy: "PercentOfFirstChild"
        children:
        -   class: "UIControl"
            name: "Content"
            input: false
            components:
                UIOpacityComponent: {}
                Anchor:
                    hCenterAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfLastChild"
                    verticalPolicy: "PercentOfLastChild"
            bindings:
            - ["UIOpacityComponent.opacity", "stepsOpacity"]
            children:
            -   class: "UIControl"
                name: "Arrows"
                input: false
                components:
                    Anchor:
                        leftAnchorEnabled: true
                        leftAnchor: 120.000000
                        vCenterAnchorEnabled: true
                    LinearLayout:
                        spacing: 115.000000
                    SizePolicy:
                        horizontalPolicy: "PercentOfChildrenSum"
                        verticalPolicy: "PercentOfFirstChild"
                children:
                -   class: "UIControl"
                    name: "CommonArrows"
                    input: false
                    components:
                        LinearLayout:
                            spacing: 112.000000
                        SizePolicy:
                            horizontalPolicy: "PercentOfChildrenSum"
                            verticalPolicy: "PercentOfMaxChild"
                        UIRepeatComponent:
                            control: "~res:/UI/Screens3/Lobby/Story/Steps/Arrows/LeftRight.yaml"
                            dataContainer: "storyView.tree.groups.common.steps"
                            args:
                                "isVisible": "_index != storyView.tree.groups.common.steps.Size() - 1"
                                "width": "26.000000"
            -   class: "UIControl"
                name: "Steps"
                input: false
                components:
                    LinearLayout:
                        spacing: 10.000000
                    SizePolicy:
                        horizontalPolicy: "PercentOfChildrenSum"
                        verticalPolicy: "PercentOfMaxChild"
                children:
                -   class: "UIControl"
                    name: "CommonSteps"
                    input: false
                    components:
                        Anchor:
                            vCenterAnchorEnabled: true
                        LinearLayout:
                            spacing: 10.000000
                        SizePolicy:
                            horizontalPolicy: "PercentOfChildrenSum"
                            verticalPolicy: "PercentOfMaxChild"
                        UIRepeatComponent:
                            control: "~res:/UI/Screens3/Lobby/Story/Components/Steps/Progression.yaml"
                            dataContainer: "storyView.tree.groups.common.steps"
                            args:
                                "model": "_item"
                                "index": "_index + 1"
                                "opacity": "stepsOpacity"
                                "stepSize": "eStepSize.M"
                            eventActions:
                            - ["DESELECT", "DESELECT", ""]
                            - ["SELECT_STEP", "SCROLL_TO_STEP", "_event.id, \"**/Step\" + str(_event.id)"]
                            - ["SHOW_STEP_INFO", "SHOW_STEP_INFO", "_event.id"]
                            elementNameExpression: "\"Step\" + str(_item.step.id)"
-   class: "UIControl"
    name: "MainRewards"
    input: false
    components:
        LinearLayout:
            orientation: "LeftToRight"
        SizePolicy:
            horizontalPolicy: "PercentOfChildrenSum"
            verticalPolicy: "PercentOfMaxChild"
        UIRepeatComponent:
            control: "~res:/UI/Screens3/Lobby/Story/Components/Repeatable.yaml"
            dataContainer: "storyView.tree.groups.mainRewards.steps"
            args:
                "model": "_item"
                "stepSize": "eStepSize.XL"
            eventActions:
            - ["DESELECT", "DESELECT", ""]
            - ["SELECT_STEP", "SCROLL_TO_STEP", "_event.id, \"**/Step\" + str(_event.id)"]
            - ["SHOW_STEP_INFO", "SHOW_STEP_INFO", "_event.id"]
            elementNameExpression: "\"Step\" + str(_item.step.id)"
    bindings:
    - ["LinearLayout.spacing", "when screenSize.X < 1440.000000 -> 192, 384"]
