Header:
    version: 140
Prototypes:
-   class: "UIControl"
    name: "CHINA4YEARSTree"
    size: [960.000000, 512.000000]
    input: false
    components:
        SizePolicy:
            horizontalPolicy: "PercentOfParent"
            verticalPolicy: "PercentOfParent"
        UILayoutEventComponent:
            sizeChangedEvent: "CONTENT_AREA_CHANGED"
            sizeChangedEventData: "_size"
        UIDataParamsComponent:
            params:
            - ["eBlitzDevice", "deviceType", "eBlitzDevice.DEVICE_PHONE", "eBlitzDevice.DEVICE_PHONE"]
            - ["StoryView", "storyView", "null", "{ }"]
            - ["int64", "serverTime", "0L", "1556668800L"]
            - ["bool", "isGfx2", "false", "false"]
            - ["vector2", "screenSize", "vec2(0.000000, 0.000000)", "vec2(960.000000, 640.000000)"]
            - ["color", "bgColor", "rgb(791306)", "rgb(791306)"]
            events:
            - "DESELECT"
            - "SHOW_STEP_INFO(int id)"
            - "SELECT_STEP(int id)"
        UIDataLocalVarsComponent:
            data:
            - ["int", "gfx", "when isGfx2 -> 2, 1"]
            - ["vector2", "contentArea", "vec2(0.000000, 0.000000)"]
            - ["vector2", "stepsArea", "vec2(0.000000, 0.000000)"]
            - ["float", "stepsOpacity", "0.000000"]
            - ["float", "cornersOpacity", "0.500000"]
        UIDataLocalBindingsComponent: {}
        UIActionComponent:
            actionsPath: "~res:/UI/Screens3/Lobby/Story/CHINA4YEARS/CHINA4YEARSTree.actions"
        UIEventOnDataComponent0:
            watchedDataExpression: "contentArea"
            ifExpression: "not floatEqual(stepsArea.X, 0.000000)"
            eventName: "ON_OPEN"
        UIEventOnDataComponent1:
            watchedDataExpression: "stepsArea"
            ifExpression: "not floatEqual(contentArea.X, 0.000000)"
            eventName: "ON_OPEN"
    children:
    -   class: "UIControl"
        name: "TapArea"
        exclusiveInput: true
        components:
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
            UIInputEventComponent:
                onTouchUpInside: "DESELECT"
    -   class: "UIControl"
        name: "BgWrapper"
        input: false
        components:
            Anchor:
                topAnchorEnabled: true
                topAnchor: -48.000000
            SizePolicy:
                horizontalPolicy: "FixedSize"
                verticalPolicy: "FixedSize"
        bindings:
        - ["SizePolicy.horizontalValue", "screenSize.X"]
        - ["SizePolicy.verticalValue", "screenSize.Y"]
        children:
        -   class: "UIControl"
            name: "Bg"
            input: false
            components:
                Background:
                    drawType: "DRAW_FILL"
                UIOpacityComponent:
                    opacity: 0.400000
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "PercentOfParent"
            bindings:
            - ["Background.color", "bgColor"]
        -   class: "UIControl"
            name: "LeftTop"
            input: false
            classes: "black-bg"
            components:
                Background:
                    drawType: "DRAW_STRETCH_BOTH"
                    sprite: "~res:/Gfx/Lobby/backgrounds/bg_radial-gradient_quarter"
                UIOpacityComponent: {}
                Anchor:
                    leftAnchorEnabled: true
                    topAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    horizontalValue: 31.250000
                    verticalPolicy: "PercentOfParent"
                    verticalValue: 56.250000
                StyleSheet:
                    styles: "~res:/UI/Screens3/Color.style.yaml"
            bindings:
            - ["UIOpacityComponent.opacity", "cornersOpacity"]
        -   class: "UIControl"
            name: "RightTop"
            input: false
            classes: "black-bg"
            components:
                Background:
                    drawType: "DRAW_STRETCH_BOTH"
                    sprite: "~res:/Gfx/Lobby/backgrounds/bg_radial-gradient_quarter"
                    spriteModification: ["FLIP_HORIZONTAL"]
                UIOpacityComponent: {}
                Anchor:
                    rightAnchorEnabled: true
                    topAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    horizontalValue: 31.250000
                    verticalPolicy: "PercentOfParent"
                    verticalValue: 56.250000
                StyleSheet:
                    styles: "~res:/UI/Screens3/Color.style.yaml"
            bindings:
            - ["UIOpacityComponent.opacity", "cornersOpacity"]
        -   class: "UIControl"
            name: "RightBottom"
            input: false
            classes: "black-bg"
            components:
                Background:
                    drawType: "DRAW_STRETCH_BOTH"
                    sprite: "~res:/Gfx/Lobby/backgrounds/bg_radial-gradient_quarter"
                    spriteModification: ["FLIP_HORIZONTAL", "FLIP_VERTICAL"]
                UIOpacityComponent: {}
                Anchor:
                    rightAnchorEnabled: true
                    bottomAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    horizontalValue: 31.250000
                    verticalPolicy: "PercentOfParent"
                    verticalValue: 56.250000
                StyleSheet:
                    styles: "~res:/UI/Screens3/Color.style.yaml"
            bindings:
            - ["UIOpacityComponent.opacity", "cornersOpacity"]
        -   class: "UIControl"
            name: "LeftBottom"
            input: false
            classes: "black-bg"
            components:
                Background:
                    drawType: "DRAW_STRETCH_BOTH"
                    sprite: "~res:/Gfx/Lobby/backgrounds/bg_radial-gradient_quarter"
                    spriteModification: ["FLIP_VERTICAL"]
                UIOpacityComponent: {}
                Anchor:
                    leftAnchorEnabled: true
                    bottomAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    horizontalValue: 31.250000
                    verticalPolicy: "PercentOfParent"
                    verticalValue: 56.250000
                StyleSheet:
                    styles: "~res:/UI/Screens3/Color.style.yaml"
            bindings:
            - ["UIOpacityComponent.opacity", "cornersOpacity"]
    -   class: "UIControl"
        name: "StepsHolder"
        input: false
        components:
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
            UIChildComponent0:
                prototypePath: "~res:/UI/Screens3/Common/HorizontalScrollView.yaml"
                args:
                    "content": "StepsArea"
                    "centerContent": "true"
                    "verticalPolicy": "eSizePolicy.PercentOfParent"
                    "bottomDistance": "4"
                    "isClipEnabled": "false"
Slots:
-   class: "UIControl"
    name: "StepsArea"
    input: false
    components:
        UIOpacityComponent: {}
        Anchor:
            bottomAnchorEnabled: true
        LinearLayout:
            orientation: "TopDown"
        SizePolicy:
            horizontalPolicy: "PercentOfLastChild"
            verticalPolicy: "PercentOfLastChild"
        UILayoutEventComponent:
            sizeChangedEvent: "STEPS_AREA_CHANGED"
            sizeChangedEventData: "_size"
    bindings:
    - ["UIOpacityComponent.opacity", "stepsOpacity"]
    - ["Anchor.bottomAnchor", "when screenSize.Y < 768 -> -82, screenSize.Y < 780 -> -2, screenSize.Y <= 900 -> 10, 10 + (screenSize.Y - 900.000000) / 180.000000 * 68.000000"]
    children:
    -   class: "UIControl"
        name: "Spacer"
        input: false
        components:
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "Formula"
                verticalFormula: "safeAreaInsets.bottom"
        children:
        -   class: "UIControl"
            name: "TapArea"
            exclusiveInput: true
            components:
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "PercentOfParent"
                UIInputEventComponent:
                    onTouchUpInside: "DESELECT"
    -   class: "UIControl"
        name: "SafeArea"
        input: false
        components:
            SizePolicy:
                horizontalPolicy: "Formula"
                horizontalFormula: "lastChild + safeAreaInsets.left + safeAreaInsets.right + 32"
                verticalPolicy: "PercentOfLastChild"
        children:
        -   class: "UIControl"
            name: "TapArea"
            exclusiveInput: true
            components:
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "PercentOfParent"
                UIInputEventComponent:
                    onTouchUpInside: "DESELECT"
        -   class: "UIControl"
            name: "StepsWrapper"
            input: false
            components:
                Anchor:
                    hCenterAnchorEnabled: true
                    topAnchorEnabled: true
                LinearLayout:
                    spacing: 40.000000
                SizePolicy:
                    horizontalPolicy: "PercentOfChildrenSum"
                    verticalPolicy: "PercentOfFirstChild"
            children:
            -   class: "UIControl"
                name: "Steps"
                input: false
                components:
                    LinearLayout: {}
                    SizePolicy:
                        horizontalPolicy: "PercentOfChildrenSum"
                        verticalPolicy: "PercentOfMaxChild"
                    UIRepeatComponent:
                        control: "~res:/UI/Screens3/Lobby/Story/Components/Steps/Linear.yaml"
                        dataContainer: "storyView.tree.groups[\"common\"].steps"
                        args:
                            "model": "_item"
                            "inProgressStep": "storyView.story.inProgressStep"
                            "maximumProgress": "160.000000 / 256.000000 + 1.000000 / (256.000000 * gfx)"
                            "selectOffset": "when screenSize.Y < 768 -> 80, 0"
                            "bgImage": "\"~res:/Gfx/Lobby/events/2021-china-4-year/2021-china-4-year-steps_\" + str(_item.step.id)"
                            "mainRewardIndex": "0"
                        eventActions:
                        - ["DESELECT", "DESELECT", ""]
                        - ["SELECT_STEP", "SCROLL_TO_STEP", "_event.id, \"**/Step\" + str(_event.id)"]
                        - ["SHOW_STEP_INFO", "SHOW_STEP_INFO", "_event.id"]
                        elementNameExpression: "\"Step\" + str(_item.step.id)"
                children:
                -   class: "UIControl"
                    name: "End"
                    pivot: [0.500000, 0.500000]
                    input: false
                    components:
                        Anchor:
                            hCenterAnchorEnabled: true
                            vCenterAnchorEnabled: true
                        SizePolicy:
                            horizontalPolicy: "FixedSize"
                            horizontalValue: 0.000000
                            verticalPolicy: "FixedSize"
                            verticalValue: 0.000000
