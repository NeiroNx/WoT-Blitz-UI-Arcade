Header:
    version: 134
ImportedPackages:
- "~res:/UI/Screens3/Lobby/Common/Blur.yaml"
Prototypes:
-   class: "UIControl"
    name: "ChestSlot"
    classes: "daily-chest button-open-sound"
    components:
        SizePolicy:
            horizontalPolicy: "FixedSize"
            horizontalValue: 240.000000
            verticalPolicy: "FixedSize"
            verticalValue: 400.000000
        UIInputEventComponent:
            onTouchUpInside: "ON_CHEST_CLICKED"
            onTouchUpInsideData: "dailyChest.descr"
        UIDataParamsComponent:
            params:
            - ["bool", "initializationEnded", "false", "true"]
            - ["float", "shopScrollTopOffset", "0.000000", "48.000000"]
            - ["float", "shopScrollBottomOffset", "0.000000", "40.000000"]
            - ["bool", "blurEnabled", "false", "true"]
            - ["DailyChestsCommonData", "dailyChestsCommon", "null", "{ }"]
            - ["int64", "serverTime", "0L", "0L"]
            - ["bool", "arabicLocalization", "false", "false"]
            - ["bool", "selected", "false", "true"]
            - ["DailyChest", "dailyChest", "null", "{ }"]
            events:
            - "ON_CHEST_CLICKED"
        UIDataLocalVarsComponent:
            data:
            - ["bool", "showBlur", "false"]
        UIDataLocalBindingsComponent:
            data:
            - ["bool", "canBeOpenedForFree", "dailyChest.chestData.freeChestsToOpen != 0"]
            - ["bool", "isOnCooldown", "dailyChest.chestData.openTime > serverTime"]
            - ["bool", "chestLocked", "not canBeOpenedForFree or isOnCooldown"]
            - ["bool", "purchaseAreAllowed", "dailyChestsCommon.purchaseAllowedForCountry or dailyChest.price.resources.Empty() or not (dailyChest.price.resources[0].type == ResourceType.gold)"]
            - ["bool", "canBuy", "not (dailyChest.chestData.paidChestsToOpen == 0) and purchaseAreAllowed and chestLocked"]
            - ["int64", "openTime", "when not canBeOpenedForFree -> (when isOnCooldown -> max(dailyChest.chestData.openTime, dailyChestsCommon.dailyBonusUpdate), dailyChestsCommon.dailyBonusUpdate), dailyChest.chestData.openTime"]
            - ["string", "gradeStr", "when dailyChest.grade == ArtefactGrade.common -> \"#common:Grade/Standard\", dailyChest.grade == ArtefactGrade.rare -> \"#common:Grade/Rare\", dailyChest.grade == ArtefactGrade.unique -> \"#common:Grade/Special\", dailyChest.grade == ArtefactGrade.legendary -> \"#common:Grade/Legendary\", \"\""]
            - ["string", "gradeColor", "when dailyChest.grade == ArtefactGrade.unknown -> \"\", str(dailyChest.grade, ArtefactGrade, \"color\") + \"-bg\""]
        UIDataOnEventComponent0:
            eventName: "ImageLoaded"
            modelFieldExpression: "showBlur"
            dataExpression: "true"
        Sound: {}
        UIIdentifierComponent:
            id: "chest_item"
            params:
            - ["bool", "locked", "chestLocked"]
            - ["string", "grade", "str(int(dailyChest.grade), ArtefactGrade)"]
        StyleSheet:
            styles: "~res:/UI/Screens3/ButtonSound.style.yaml;~res:/UI/Screens3/Common/Hover.style.yaml;~res:/UI/Screens3/Common/Touch.style.yaml"
    children:
    -   class: "UIControl"
        name: "Content"
        pivot: [0.500000, 0.500000]
        input: false
        classes: "content-area"
        components:
            UIOpacityComponent: {}
            Anchor:
                hCenterAnchorEnabled: true
                vCenterAnchorEnabled: true
            LinearLayout:
                orientation: "TopDown"
                spacing: 8.000000
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
        children:
        -   class: "UIControl"
            name: "Title"
            input: false
            classes: "t-subtitle regular white-wild-sand-text"
            components:
                UITextComponent:
                    fitting: "FITTING_POINTS"
                    align: ["LEFT", "VCENTER"]
                    useRtlAlign: "USE_BY_SYSTEM"
                SizePolicy:
                    horizontalPolicy: "PercentOfParent"
                    verticalPolicy: "PercentOfContent"
                StyleSheet:
                    styles: "~res:/UI/Screens3/Font.style.yaml"
            bindings:
            - ["UITextComponent.text", "localize(dailyChest.title)"]
        -   class: "UIControl"
            name: "ChestContent"
            input: false
            components:
                SizePolicy:
                    horizontalPolicy: "FixedSize"
                    horizontalValue: 240.000000
                    verticalPolicy: "FixedSize"
                    verticalValue: 336.000000
            children:
            -   class: "UIControl"
                name: "Image"
                input: false
                components:
                    Background:
                        drawType: "DRAW_SCALE_TO_RECT"
                        sprite: ""
                        perPixelAccuracy: "PER_PIXEL_ACCURACY_ENABLED"
                    UIUrlImageComponent:
                        imageLoadedEvent: "ImageLoaded"
                    UIRoundedCornersComponent:
                        radius: "2"
                    SizePolicy:
                        horizontalPolicy: "PercentOfParent"
                        verticalPolicy: "PercentOfParent"
                bindings:
                - ["UIUrlImageComponent.imageUrl", "dailyChestsCommon.imagePattern + dailyChest.name + \".webp\""]
            -   class: "UIControl"
                name: "Hover"
                input: false
                classes: "white-wild-sand-10-bg hover"
                components:
                    Background: {}
                    UIOpacityComponent: {}
                    IgnoreLayout: {}
                    SizePolicy:
                        horizontalPolicy: "PercentOfParent"
                        verticalPolicy: "PercentOfParent"
                    StyleSheet:
                        styles: "~res:/UI/Screens3/Color.style.yaml;~res:/UI/Screens3/Common/Hover.style.yaml"
            -   class: "UIControl"
                name: "Selection"
                size: [32.000000, 32.000000]
                input: false
                components:
                    SizePolicy:
                        horizontalPolicy: "FixedSize"
                        horizontalValue: 240.000000
                        verticalPolicy: "FixedSize"
                        verticalValue: 336.000000
                    UIChildComponent0:
                        condition: "selected"
                        prototypePath: "~res:/UI/Screens3/Lobby/Common/SelectionRounded_r1.yaml"
            -   class: "UIControl"
                name: "RightLabels"
                input: false
                components:
                    Anchor:
                        rightAnchorEnabled: true
                        rightAnchor: -4.000000
                        topAnchorEnabled: true
                        topAnchor: -4.000000
                    LinearLayout:
                        orientation: "TopDown"
                        spacing: 1.000000
                    SizePolicy:
                        horizontalPolicy: "PercentOfMaxChild"
                        verticalPolicy: "PercentOfChildrenSum"
                children:
                -   class: "UIControl"
                    name: "Grade"
                    input: false
                    components:
                        Anchor:
                            rightAnchorEnabled: true
                        SizePolicy:
                            horizontalPolicy: "PercentOfFirstChild"
                            verticalPolicy: "PercentOfFirstChild"
                        UIChildComponent0:
                            condition: "not (dailyChest.grade == ArtefactGrade.unknown)"
                            prototypePath: "~res:/UI/Screens3/Lobby/Shop/ShopProductLabel.yaml"
                            args:
                                "colorStyle": "gradeColor"
                                "labelText": "localize(gradeStr)"
                                "reversedAnimation": "arabicLocalization"
                -   class: "UIControl"
                    name: "FreeLabel"
                    input: false
                    components:
                        Anchor:
                            rightAnchorEnabled: true
                        SizePolicy:
                            horizontalPolicy: "PercentOfFirstChild"
                            verticalPolicy: "PercentOfFirstChild"
                        UIChildComponent0:
                            condition: "not canBuy and not chestLocked"
                            prototypePath: "~res:/UI/Screens3/Lobby/Shop/ShopProductLabel.yaml"
                            args:
                                "colorStyle": "\"red-red-bg\""
                                "labelText": "localize(\"shop/FreeBundle\")"
                                "reversedAnimation": "arabicLocalization"
            -   class: "UIControl"
                name: "XTime"
                input: false
                components:
                    Anchor:
                        rightAnchorEnabled: true
                        rightAnchor: -4.000000
                        bottomAnchorEnabled: true
                        bottomAnchor: 8.000000
                    SizePolicy:
                        horizontalPolicy: "PercentOfFirstChild"
                        verticalPolicy: "FixedSize"
                        verticalValue: 32.000000
                    UIChildComponent0:
                        childType: "kControl"
                        control: "RemainingLabelWrapper"
                bindings:
                - ["visible", "not canBuy and not chestLocked and dailyChest.chestData.freeChestsToOpen > 0"]
            -   class: "UIControl"
                name: "Timer"
                input: false
                components:
                    Anchor:
                        leftAnchorEnabled: true
                        leftAnchor: -4.000000
                        bottomAnchorEnabled: true
                        bottomAnchor: 40.000000
                    SizePolicy: {}
                    UIChildComponent0:
                        childType: "kControl"
                        condition: "chestLocked"
                        control: "TimerWrapper"
            -   class: "UIControl"
                name: "effects"
                input: false
                components:
                    SizePolicy:
                        horizontalPolicy: "PercentOfParent"
                        verticalPolicy: "PercentOfParent"
                    UIChildComponent0:
                        childType: "kControl"
                        condition: "not canBuy and not chestLocked"
                        control: "effects"
        -   class: "UIControl"
            name: "Bottom"
            input: false
            components:
                Anchor:
                    hCenterAnchorEnabled: true
                    vCenterAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfFirstChild"
                    verticalPolicy: "PercentOfFirstChild"
                UIChildComponent0:
                    condition: "canBuy"
                    prototypePath: "~res:/UI/Screens3/Lobby/Common/Resource/Price.yaml"
                    args:
                        "priceGet": "{ }"
                        "pricePay": "dailyChest.price"
                UIChildComponent1:
                    childType: "kControl"
                    condition: "not canBuy and not chestLocked"
                    control: "FreeLabel"
Slots:
-   class: "UIControl"
    name: "FreeLabel"
    input: false
    classes: "t-subtitle bold color=white-wild-sand-text"
    components:
        UITextComponent:
            text: "shop/FreeBundle"
        SizePolicy:
            horizontalPolicy: "PercentOfContent"
            verticalPolicy: "PercentOfContent"
        StyleSheet:
            styles: "~res:/UI/Screens3/Font.style.yaml"
-   class: "UIControl"
    name: "TimerWrapper"
    input: false
    components:
        SizePolicy:
            horizontalPolicy: "PercentOfChildrenSum"
            verticalPolicy: "FixedSize"
            verticalValue: 32.000000
    children:
    -   class: "UIControl"
        name: "BlurWrapper"
        input: false
        components:
            IgnoreLayout: {}
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
        bindings:
        - ["visible", "showBlur and blurEnabled and initializationEnded"]
        children:
        -   prototype: "Blur/Blur"
            name: "Blur"
            components:
                UIPostProcessTextureComponent0:
                    renderRequestingType: "ON_SIZE_CHANGED"
                    renderControlOnlyOnScreen: true
                UIPostProcessTextureComponent1:
                    renderRequestingType: "ON_SIZE_CHANGED"
                    renderControlOnlyOnScreen: true
                UIPostProcessTextureComponent2:
                    renderRequestingType: "ON_SIZE_CHANGED"
                    renderControlOnlyOnScreen: true
            bindings:
            - ["UIPostProcessTextureComponent0.topOffset", "shopScrollTopOffset"]
            - ["UIPostProcessTextureComponent0.bottomOffset", "shopScrollBottomOffset"]
            - ["UIPostProcessTextureComponent1.topOffset", "shopScrollTopOffset"]
            - ["UIPostProcessTextureComponent1.bottomOffset", "shopScrollBottomOffset"]
            - ["UIPostProcessTextureComponent2.topOffset", "shopScrollTopOffset"]
            - ["UIPostProcessTextureComponent2.bottomOffset", "shopScrollBottomOffset"]
    -   class: "UIControl"
        name: "Fade"
        input: false
        classes: "black-bg"
        components:
            Background: {}
            UIOpacityComponent: {}
            Anchor:
                hCenterAnchorEnabled: true
                vCenterAnchorEnabled: true
            IgnoreLayout: {}
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
            StyleSheet:
                styles: "~res:/UI/Screens3/Color.style.yaml"
        bindings:
        - ["UIOpacityComponent.opacity", "0.300000"]
    -   class: "UIControl"
        name: "FreeTimer"
        input: false
        components:
            LinearLayout:
                padding: "8"
                spacing: 8.000000
            SizePolicy:
                horizontalPolicy: "PercentOfChildrenSum"
                verticalPolicy: "FixedSize"
                verticalValue: 32.000000
        children:
        -   class: "UIControl"
            name: "Text"
            input: false
            classes: "t-subtitle regular color=white-wild-sand-text"
            components:
                UITextComponent:
                    colorInheritType: "COLOR_IGNORE_PARENT"
                    align: ["LEFT", "VCENTER"]
                Anchor:
                    vCenterAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfContent"
                    verticalPolicy: "PercentOfContent"
                StyleSheet:
                    styles: "~res:/UI/Screens3/Font.style.yaml;~res:/UI/Screens3/Color.style.yaml"
            bindings:
            - ["UITextComponent.text", "localize(\"activities/BonusContainers/Timer\")"]
        -   class: "UIControl"
            name: "Timer"
            input: false
            components:
                Anchor:
                    vCenterAnchorEnabled: true
                SizePolicy:
                    horizontalPolicy: "PercentOfMaxChild"
                    verticalPolicy: "PercentOfMaxChild"
                UIChildComponent0:
                    prototypePath: "~res:/UI/Screens3/Lobby/Common/Timer.yaml"
                    args:
                        "time": "openTime"
                        "serverTime": "serverTime"
                        "timerSize": "eTimerSize.Medium"
-   class: "UIControl"
    name: "RemainingLabelWrapper"
    input: false
    components:
        SizePolicy:
            horizontalPolicy: "PercentOfChildrenSum"
            verticalPolicy: "FixedSize"
            verticalValue: 32.000000
    children:
    -   class: "UIControl"
        name: "BlurWrapper"
        input: false
        components:
            IgnoreLayout: {}
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
        bindings:
        - ["visible", "showBlur and blurEnabled and initializationEnded"]
        children:
        -   prototype: "Blur/Blur"
            name: "Blur"
            components:
                UIPostProcessTextureComponent0:
                    renderRequestingType: "ON_SIZE_CHANGED"
                    renderControlOnlyOnScreen: true
                UIPostProcessTextureComponent1:
                    renderRequestingType: "ON_SIZE_CHANGED"
                    renderControlOnlyOnScreen: true
                UIPostProcessTextureComponent2:
                    renderRequestingType: "ON_SIZE_CHANGED"
                    renderControlOnlyOnScreen: true
            bindings:
            - ["UIPostProcessTextureComponent0.topOffset", "shopScrollTopOffset"]
            - ["UIPostProcessTextureComponent0.bottomOffset", "shopScrollBottomOffset"]
            - ["UIPostProcessTextureComponent1.topOffset", "shopScrollTopOffset"]
            - ["UIPostProcessTextureComponent1.bottomOffset", "shopScrollBottomOffset"]
            - ["UIPostProcessTextureComponent2.topOffset", "shopScrollTopOffset"]
            - ["UIPostProcessTextureComponent2.bottomOffset", "shopScrollBottomOffset"]
    -   class: "UIControl"
        name: "Fade"
        input: false
        classes: "black-bg"
        components:
            Background: {}
            UIOpacityComponent: {}
            Anchor:
                hCenterAnchorEnabled: true
                vCenterAnchorEnabled: true
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
            StyleSheet:
                styles: "~res:/UI/Screens3/Color.style.yaml"
        bindings:
        - ["UIOpacityComponent.opacity", "0.300000"]
    -   class: "UIControl"
        name: "RemainingLabel"
        input: false
        components:
            Anchor:
                vCenterAnchorEnabled: true
            SizePolicy:
                horizontalPolicy: "PercentOfFirstChild"
                verticalPolicy: "PercentOfFirstChild"
            UIChildComponent0:
                condition: "not canBuy and not chestLocked and dailyChest.chestData.freeChestsToOpen > 0"
                prototypePath: "~res:/UI/Screens3/Common/RemainingLabel.yaml"
                args:
                    "textPaddings": "8"
                    "bgStyle": "\"\""
                    "left": "dailyChest.chestData.freeChestsToOpen"
                    "textStyle": "\"t-subtitle regular white-wild-sand-text\""
-   class: "UIControl"
    name: "effects"
    input: false
    components:
        SizePolicy:
            horizontalPolicy: "PercentOfParent"
            verticalPolicy: "PercentOfParent"
    children:
    -   class: "UIControl"
        name: "main"
        input: false
        components:
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
            UIChildComponent0:
                childType: "kControl"
                condition: "dailyChest.grade == ArtefactGrade.unique"
                control: "daily_chest_purple"
            UIChildComponent1:
                childType: "kControl"
                condition: "dailyChest.grade == ArtefactGrade.common"
                control: "daily_chest_white"
            UIChildComponent2:
                childType: "kControl"
                condition: "dailyChest.grade == ArtefactGrade.rare"
                control: "daily_chest_blue"
    -   class: "UIControl"
        name: "bubbles"
        input: false
        components:
            SizePolicy:
                horizontalPolicy: "PercentOfParent"
                verticalPolicy: "PercentOfParent"
            UIChildComponent0:
                childType: "kControl"
                condition: "dailyChest.grade == ArtefactGrade.unique"
                control: "bubbles_purple"
            UIChildComponent1:
                childType: "kControl"
                condition: "dailyChest.grade == ArtefactGrade.common"
                control: "bubbles_white"
            UIChildComponent2:
                childType: "kControl"
                condition: "dailyChest.grade == ArtefactGrade.rare"
                control: "bubbles_blue"
-   class: "UIParticles"
    name: "daily_chest_purple"
    position: [120.000000, 146.000000]
    size: [32.000000, 32.000000]
    scale: [0.500000, 0.375000]
    visible: true
    input: false
    effectPath: "~res:/3d/FX/UI/daily_chest/daily_chest_purple.sc2"
    autoStart: true
    components:
        IgnoreLayout: {}
-   class: "UIParticles"
    name: "bubbles_purple"
    position: [128.000000, 118.000000]
    size: [32.000000, 32.000000]
    scale: [0.500000, 0.500000]
    visible: true
    input: false
    effectPath: "~res:/3d/FX/UI/daily_chest/bubbles_purple.sc2"
    autoStart: true
    components:
        IgnoreLayout: {}
-   class: "UIParticles"
    name: "daily_chest_white"
    position: [120.000000, 155.000000]
    size: [32.000000, 32.000000]
    scale: [0.500000, 0.250000]
    visible: true
    input: false
    effectPath: "~res:/3d/FX/UI/daily_chest/daily_chest_white.sc2"
    autoStart: true
    components:
        IgnoreLayout: {}
-   class: "UIParticles"
    name: "bubbles_white"
    position: [121.000000, 119.000000]
    size: [32.000000, 32.000000]
    scale: [0.450000, 0.450000]
    visible: true
    input: false
    effectPath: "~res:/3d/FX/UI/daily_chest/bubbles_white.sc2"
    autoStart: true
    components:
        IgnoreLayout: {}
-   class: "UIParticles"
    name: "daily_chest_blue"
    position: [120.000000, 146.000000]
    size: [32.000000, 32.000000]
    scale: [0.500000, 0.375000]
    visible: true
    input: false
    effectPath: "~res:/3d/FX/UI/daily_chest/daily_chest_blue.sc2"
    autoStart: true
    components:
        IgnoreLayout: {}
-   class: "UIParticles"
    name: "bubbles_blue"
    position: [128.000000, 118.000000]
    size: [32.000000, 32.000000]
    scale: [0.500000, 0.500000]
    visible: true
    input: false
    effectPath: "~res:/3d/FX/UI/daily_chest/bubbles_blue.sc2"
    autoStart: true
    components:
        IgnoreLayout: {}
